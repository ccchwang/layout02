!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";new(n(1))(document)},function(t,e,n){"use strict";var i=function(t){this.el=t,this.init()};i.prototype={MenuItem:n(2),CloseButton:n(3),ContentSections:n(4),MoveButtons:n(5),init:function(){var t=this.selectElements(".work"),e=this.selectElements(".menu__item");this.closeBtn=this.selectElements(".close-btn"),this.body=this.selectElements("body"),this.itemsMap=this.setItemsMap(e),this.createMoveButtons(),this.createCloseButton(),this.createFloatingHeaders(t)},selectElements:function(t){var e=document.querySelectorAll(t),n=[].slice.call(e);return 1===n.length?n[0]:n},setItemsMap:function(t){var e=this,n=[];return t.forEach(function(i,s){n.push(new e.MenuItem(i,s,t,e.closeBtn,e.body,e.open))}),n},createMoveButtons:function(){var t=this;this.itemsMap.forEach(function(e,n){return new t.MoveButtons(e,n,t.itemsMap,t.open)})},createCloseButton:function(){new this.CloseButton(this.closeBtn,this.itemsMap,this.body)},createFloatingHeaders:function(t){new this.ContentSections(t)},open:function(){window.scrollTo(0,0),this.el.style.transform="translateY("+-1*this.el.offsetTop+"px)",this.el.className+=" opened",this.body.className+=" active",this.aboveNeighbors.forEach(function(t){return t.className+=" move-up"}),this.content.className+=" show"}},t.exports=i},function(t,e){"use strict";var n=function(t,e,n,i,s,o){this.el=t,this.tag=t.dataset.tag,this.closeBtn=i,this.body=s,this.setVars(e,n),this.bindEvents(o)};n.prototype={setVars:function(t,e){this.aboveNeighbors=e.slice(0,t),this.belowNeighbors=e.slice(t+1),this.content=document.getElementsByClassName("-"+this.tag)[0];var n=this.content.getElementsByClassName("move-btn");this.nextBtn=n[1],this.prevBtn=n[0]},bindEvents:function(t){this.el.addEventListener("click",t.bind(this))}},t.exports=n},function(t,e){"use strict";var n=function(t,e,n){this.el=t,this.itemsMap=e,this.body=n,this.bindEvents()};n.prototype={bindEvents:function(){this.el.addEventListener("click",this.onClick.bind(this))},onClick:function(){var t=document.getElementsByClassName("opened")[0],e=t.dataset.tag,n=this.itemsMap.filter(function(t){return t.tag===e})[0];this.closeOpenSection(t),this.hideButton(),this.moveNeighors(n),this.hideContent(n)},closeOpenSection:function(t){t.style.transform="translateY(0px)",t.classList.remove("opened")},hideButton:function(){this.body.classList.remove("active")},moveNeighors:function(t){t.aboveNeighbors.forEach(function(t){return t.classList.remove("move-up")})},hideContent:function(t){t.content.classList.remove("show")}},t.exports=n},function(t,e){"use strict";var n=function(t){this.sections=t,this.map={},this.windowHeight=window.innerHeight,this.lastScrollY=0,this.windowBottom=0,this.ticking=!1,this.setMap(),this.bindEvents()};n.prototype={setMap:function(){var t=this,e=[].slice.call(document.getElementsByClassName("side-title"));this.sections.forEach(function(n,i){t.map[i]=[];var s=3*i;e.slice(s,s+3).forEach(function(e){t.map[i].push({header:e,content:e.parentElement.nextElementSibling})})})},bindEvents:function(){window.addEventListener("scroll",this.onScroll.bind(this))},onScroll:function(){this.lastScrollY=window.scrollY,this.ticking||requestAnimationFrame(this.update.bind(this)),this.ticking=!0},update:function(){this.ticking=!1,this.windowBottom=this.lastScrollY+this.windowHeight,this.sections.forEach(this.animateWhenOpen.bind(this))},animateWhenOpen:function(t,e){var n=this;t.classList.value.includes("show")&&this.map[e].forEach(function(t){t.contentHeight||n.setBlurbDetails(t),n.animateHeader.call(n,t)})},setBlurbDetails:function(t){t.contentHeight=t.content.offsetHeight,t.contentTop=t.content.offsetTop,t.contentBottom=t.contentTop+t.contentHeight},animateHeader:function(t){var e=this.windowBottom>t.contentBottom,n=this.lastScrollY>t.contentTop;e?this.freezeHeader(t):n?this.floatHeader(t):t.header.classList.remove("-floating")},freezeHeader:function(t){if(!t.frozenTop){var e=this.calculateProgress(this.lastScrollY,t);t.frozenTop=this.calculateFrozenTop(e,t)}t.header.classList.add("-frozen"),t.header.style.top=t.frozenTop+"px"},floatHeader:function(t){t.header.style.top=this.calculateProgress(this.lastScrollY,t)+"%",t.header.classList.remove("-frozen"),t.header.classList.add("-floating")},calculateProgress:function(t,e){return(t-e.contentTop)/e.contentHeight*80+8.8},calculateFrozenTop:function(t,e){var n=t/100*this.windowHeight,i=this.windowHeight-n;return e.contentBottom-i}},t.exports=n},function(t,e){"use strict";var n=function(t,e,n,i){this.nextBtn=t.nextBtn,this.prevBtn=t.prevBtn,this.closeBtn=t.closeBtn,this.setVars(e,n),this.bindEvents(i)};n.prototype={setVars:function(t,e){var n=e.length;this.nextNeighbor=t+1===n?e[0]:e[t+1],this.prevNeighbor=t-1==-1?e[n-1]:e[t-1]},bindEvents:function(t){this.nextBtn.addEventListener("click",this.onClick.bind(this,this.nextNeighbor,t)),this.prevBtn.addEventListener("click",this.onClick.bind(this,this.prevNeighbor,t))},onClick:function(t,e){this.simulateClick(this.closeBtn),this.openNeighbor(t,e)},simulateClick:function(t){var e=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});t.dispatchEvent(e)},openNeighbor:function(t,e){setTimeout(e.bind(t),650)}},t.exports=n}]);